'use client'

import clsx from 'clsx'
import classes from './checkbox-card.module.scss'

interface CheckboxCardProps {
	label: string
	checked: boolean
	onCheck: (checked: boolean) => void
	onDelete?: () => void
	onEdit?: () => void
	withBorder: boolean
	withRemoval?: boolean
	withEditing?: boolean
}

export function CheckboxCard({
	label,
	checked,
	onCheck,
	onDelete,
	withBorder,
	withRemoval,
	withEditing,
	onEdit,
}: CheckboxCardProps) {
	return (
		<label className={classes.card} style={withBorder ? { border: '1px solid var(--btn-border)' } : { border: 'none' }}>
			<input type='checkbox' checked={checked} onChange={e => onCheck(e.target.checked)} className={classes.checkbox} />
			<span className={classes.customCheckbox}></span>
			<span className={clsx(classes.label, checked && 'checked')}>{label}</span>
			<div className={classes.buttons}>
				{withEditing ? (
					<button className={classes.editButton} type='button' onClick={onEdit}>
						<svg fill='none' xmlns='http://www.w3.org/2000/svg'>
							<path
								d='m14.473 5.0741c-0.3682-0.30848-0.8438-0.45823-1.3223-0.41637-0.4786 0.04187-0.9209 0.27193-1.23 0.63966l-8.0978 9.6505 0.22329 2.5522 2.5523-0.2233 8.0978-9.6505c0.3084-0.36826 0.458-0.84381 0.4162-1.3223-0.0419-0.47848-0.2719-0.92082-0.6395-1.2299zm-8.3721 11.242-1.1456 0.1003-0.10023-1.1457 6.0502-7.2047 1.2459 1.0454-6.0502 7.2047zm7.8295-9.3328-1.1395 1.358-1.2434-1.0456 1.1392-1.3559c0.1386-0.16521 0.3372-0.26858 0.552-0.28738 0.2149-0.0188 0.4284 0.04852 0.5936 0.18715s0.2686 0.33721 0.2874 0.55205c0.0188 0.21485-0.0485 0.42836-0.1872 0.59357l-0.0021-0.00182z'
								fill='var(--text)'
							/>
						</svg>
					</button>
				) : null}
				{withRemoval ? (
					<button className={classes.deleteButton} onClick={onDelete && (() => onDelete())}>
						<svg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'>
							<path
								d='M12.2493 2.33333H10.441C10.3056 1.67499 9.94741 1.08345 9.42675 0.658419C8.90608 0.233386 8.2548 0.000848473 7.58268 0L6.41602 0C5.7439 0.000848473 5.09262 0.233386 4.57195 0.658419C4.05129 1.08345 3.69307 1.67499 3.55768 2.33333H1.74935C1.59464 2.33333 1.44627 2.39479 1.33687 2.50419C1.22747 2.61358 1.16602 2.76196 1.16602 2.91667C1.16602 3.07138 1.22747 3.21975 1.33687 3.32915C1.44627 3.43854 1.59464 3.5 1.74935 3.5H2.33268V11.0833C2.33361 11.8566 2.6412 12.5979 3.18798 13.1447C3.73476 13.6915 4.47609 13.9991 5.24935 14H8.74935C9.52261 13.9991 10.2639 13.6915 10.8107 13.1447C11.3575 12.5979 11.6651 11.8566 11.666 11.0833V3.5H12.2493C12.4041 3.5 12.5524 3.43854 12.6618 3.32915C12.7712 3.21975 12.8327 3.07138 12.8327 2.91667C12.8327 2.76196 12.7712 2.61358 12.6618 2.50419C12.5524 2.39479 12.4041 2.33333 12.2493 2.33333ZM6.41602 1.16667H7.58268C7.94451 1.16711 8.29734 1.27947 8.59279 1.48834C8.88824 1.69721 9.11184 1.99237 9.23293 2.33333H4.76577C4.88686 1.99237 5.11046 1.69721 5.40591 1.48834C5.70136 1.27947 6.05419 1.16711 6.41602 1.16667ZM10.4993 11.0833C10.4993 11.5475 10.315 11.9926 9.98679 12.3208C9.6586 12.649 9.21348 12.8333 8.74935 12.8333H5.24935C4.78522 12.8333 4.3401 12.649 4.01191 12.3208C3.68372 11.9926 3.49935 11.5475 3.49935 11.0833V3.5H10.4993V11.0833Z'
								fill='var(--text)'
							/>
							<path
								d='M5.83333 10.5002C5.98804 10.5002 6.13642 10.4387 6.24581 10.3293C6.35521 10.2199 6.41667 10.0715 6.41667 9.91683V6.41683C6.41667 6.26212 6.35521 6.11375 6.24581 6.00435C6.13642 5.89495 5.98804 5.8335 5.83333 5.8335C5.67862 5.8335 5.53025 5.89495 5.42085 6.00435C5.31146 6.11375 5.25 6.26212 5.25 6.41683V9.91683C5.25 10.0715 5.31146 10.2199 5.42085 10.3293C5.53025 10.4387 5.67862 10.5002 5.83333 10.5002Z'
								fill='var(--text)'
							/>
							<path
								d='M8.16732 10.5002C8.32203 10.5002 8.4704 10.4387 8.5798 10.3293C8.68919 10.2199 8.75065 10.0715 8.75065 9.91683V6.41683C8.75065 6.26212 8.68919 6.11375 8.5798 6.00435C8.4704 5.89495 8.32203 5.8335 8.16732 5.8335C8.01261 5.8335 7.86424 5.89495 7.75484 6.00435C7.64544 6.11375 7.58398 6.26212 7.58398 6.41683V9.91683C7.58398 10.0715 7.64544 10.2199 7.75484 10.3293C7.86424 10.4387 8.01261 10.5002 8.16732 10.5002Z'
								fill='var(--text)'
							/>
						</svg>
					</button>
				) : null}
			</div>
		</label>
	)
}
