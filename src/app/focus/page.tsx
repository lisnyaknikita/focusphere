'use client'

import { Modal } from '@/shared/ui/modal/modal'
import { useState } from 'react'
import { BackgroundSoundsDropdown } from './header/background-sounds-dropdown/background-sounds-dropdown'
import { TimerSettingsModal } from './header/timer-settings-modal/timer-settings-modal'
import { Timer } from './main/timer/timer'
import classes from './page.module.scss'

export default function Focus() {
	const [isSettingsModalOpened, setIsSettingsModalOpened] = useState(false)

	return (
		<>
			<div className={classes.focusPage}>
				<header className={classes.header}>
					<BackgroundSoundsDropdown />
					<button className={classes.settingButton} onClick={() => setIsSettingsModalOpened(true)}>
						<svg width='30' height='30' viewBox='0 0 50 50' fill='none' xmlns='http://www.w3.org/2000/svg'>
							<path
								d='M24.9994 16.6665C23.3512 16.6665 21.74 17.1552 20.3696 18.0709C18.9992 18.9866 17.9311 20.2881 17.3004 21.8108C16.6696 23.3335 16.5046 25.0091 16.8261 26.6256C17.1477 28.2421 17.9414 29.727 19.1068 30.8924C20.2722 32.0578 21.7571 32.8515 23.3736 33.173C24.9901 33.4946 26.6657 33.3296 28.1884 32.6988C29.7111 32.0681 31.0126 31 31.9283 29.6296C32.8439 28.2592 33.3327 26.648 33.3327 24.9998C33.3327 22.7897 32.4547 20.6701 30.8919 19.1073C29.3291 17.5445 27.2095 16.6665 24.9994 16.6665ZM24.9994 29.1665C24.1753 29.1665 23.3697 28.9221 22.6845 28.4643C21.9993 28.0065 21.4652 27.3557 21.1499 26.5944C20.8345 25.833 20.752 24.9952 20.9127 24.187C21.0735 23.3787 21.4704 22.6363 22.0531 22.0536C22.6358 21.4708 23.3782 21.074 24.1865 20.9132C24.9947 20.7525 25.8325 20.835 26.5939 21.1503C27.3552 21.4657 28.006 21.9998 28.4638 22.685C28.9217 23.3702 29.166 24.1757 29.166 24.9998C29.166 26.1049 28.727 27.1647 27.9456 27.9461C27.1642 28.7275 26.1044 29.1665 24.9994 29.1665Z'
								fill='var(--text)'
							/>
							<path
								d='M44.3634 28.9583L43.4384 28.425C43.8548 26.1593 43.8548 23.8366 43.4384 21.5708L44.3634 21.0375C45.0747 20.6271 45.6982 20.0806 46.1984 19.4293C46.6985 18.7779 47.0655 18.0345 47.2783 17.2413C47.4911 16.4481 47.5455 15.6208 47.4386 14.8066C47.3317 13.9924 47.0654 13.2072 46.6551 12.4958C46.2447 11.7845 45.6982 11.161 45.0468 10.6608C44.3955 10.1607 43.652 9.79376 42.8588 9.58096C42.0657 9.36816 41.2384 9.31367 40.4241 9.4206C39.6099 9.52753 38.8247 9.79379 38.1134 10.2042L37.1863 10.7396C35.4353 9.24358 33.4231 8.08385 31.2509 7.31875V6.25C31.2509 4.5924 30.5924 3.00268 29.4203 1.83058C28.2482 0.65848 26.6585 0 25.0009 0C23.3433 0 21.7536 0.65848 20.5815 1.83058C19.4094 3.00268 18.7509 4.5924 18.7509 6.25V7.31875C16.5788 8.0866 14.5672 9.24917 12.8175 10.7479L11.8863 10.2083C10.4497 9.37953 8.74272 9.15536 7.14085 9.58513C5.53897 10.0149 4.17343 11.0634 3.34463 12.5C2.51583 13.9366 2.29166 15.6436 2.72143 17.2455C3.1512 18.8473 4.19971 20.2129 5.6363 21.0417L6.5613 21.575C6.14486 23.8407 6.14486 26.1634 6.5613 28.4292L5.6363 28.9625C4.19971 29.7913 3.1512 31.1568 2.72143 32.7587C2.29166 34.3606 2.51583 36.0676 3.34463 37.5042C4.17343 38.9408 5.53897 39.9893 7.14085 40.419C8.74272 40.8488 10.4497 40.6246 11.8863 39.7958L12.8134 39.2604C14.565 40.7566 16.5779 41.9164 18.7509 42.6812V43.75C18.7509 45.4076 19.4094 46.9973 20.5815 48.1694C21.7536 49.3415 23.3433 50 25.0009 50C26.6585 50 28.2482 49.3415 29.4203 48.1694C30.5924 46.9973 31.2509 45.4076 31.2509 43.75V42.6812C33.423 41.9134 35.4345 40.7508 37.1842 39.2521L38.1155 39.7896C39.5521 40.6184 41.259 40.8426 42.8609 40.4128C44.4628 39.983 45.8283 38.9345 46.6571 37.4979C47.4859 36.0613 47.7101 34.3543 47.2803 32.7525C46.8506 31.1506 45.8021 29.7851 44.3655 28.9562L44.3634 28.9583ZM39.055 21.0917C39.7606 23.648 39.7606 26.3478 39.055 28.9042C38.9319 29.3491 38.96 29.8224 39.1349 30.2496C39.3099 30.6768 39.6218 31.0339 40.0217 31.2646L42.2801 32.5687C42.7588 32.845 43.1082 33.3002 43.2514 33.834C43.3946 34.3679 43.3199 34.9369 43.0436 35.4156C42.7673 35.8944 42.3122 36.2438 41.7783 36.387C41.2444 36.5302 40.6755 36.4554 40.1967 36.1792L37.9342 34.8708C37.534 34.639 37.068 34.547 36.6097 34.6092C36.1514 34.6715 35.7269 34.8844 35.403 35.2146C33.5486 37.1076 31.2125 38.4583 28.6467 39.1208C28.1989 39.236 27.8021 39.4968 27.5188 39.8623C27.2355 40.2278 27.0819 40.6772 27.0821 41.1396V43.75C27.0821 44.3025 26.8626 44.8324 26.4719 45.2231C26.0812 45.6138 25.5513 45.8333 24.9988 45.8333C24.4463 45.8333 23.9164 45.6138 23.5257 45.2231C23.135 44.8324 22.9155 44.3025 22.9155 43.75V41.1417C22.9157 40.6793 22.7621 40.2299 22.4788 39.8644C22.1955 39.4989 21.7987 39.2381 21.3509 39.1229C18.7849 38.4577 16.4495 37.1041 14.5967 35.2083C14.2728 34.8782 13.8483 34.6652 13.39 34.603C12.9317 34.5407 12.4657 34.6328 12.0655 34.8646L9.80713 36.1708C9.57011 36.3098 9.30794 36.4005 9.03573 36.4377C8.76351 36.4749 8.48662 36.4579 8.22099 36.3877C7.95537 36.3175 7.70626 36.1954 7.48801 36.0285C7.26976 35.8616 7.08667 35.6532 6.94929 35.4153C6.81191 35.1773 6.72296 34.9146 6.68754 34.6421C6.65213 34.3696 6.67096 34.0929 6.74295 33.8277C6.81493 33.5626 6.93866 33.3143 7.10699 33.0971C7.27533 32.88 7.48495 32.6983 7.7238 32.5625L9.98213 31.2583C10.382 31.0276 10.694 30.6706 10.8689 30.2434C11.0439 29.8161 11.072 29.3429 10.9488 28.8979C10.2433 26.3415 10.2433 23.6418 10.9488 21.0854C11.0698 20.6414 11.0403 20.1699 10.8651 19.7444C10.6898 19.3189 10.3786 18.9633 9.98005 18.7333L7.72172 17.4292C7.24295 17.1529 6.89353 16.6978 6.75034 16.1639C6.60715 15.63 6.68191 15.0611 6.95817 14.5823C7.23444 14.1035 7.68958 13.7541 8.22348 13.6109C8.75737 13.4677 9.32628 13.5425 9.80505 13.8187L12.0675 15.1271C12.4667 15.3594 12.9317 15.4525 13.3895 15.3918C13.8473 15.3311 14.2719 15.12 14.5967 14.7917C16.4511 12.8986 18.7872 11.548 21.353 10.8854C21.8022 10.7699 22.2 10.5078 22.4835 10.1406C22.7669 9.77344 22.9196 9.32217 22.9175 8.85833V6.25C22.9175 5.69747 23.137 5.16756 23.5277 4.77686C23.9184 4.38616 24.4483 4.16667 25.0009 4.16667C25.5534 4.16667 26.0833 4.38616 26.474 4.77686C26.8647 5.16756 27.0842 5.69747 27.0842 6.25V8.85833C27.084 9.32074 27.2376 9.77009 27.5209 10.1356C27.8041 10.5011 28.201 10.7619 28.6488 10.8771C31.2155 11.542 33.5517 12.8956 35.405 14.7917C35.729 15.1218 36.1535 15.3348 36.6118 15.397C37.0701 15.4593 37.5361 15.3672 37.9363 15.1354L40.1946 13.8292C40.4317 13.6902 40.6938 13.5995 40.966 13.5623C41.2383 13.5251 41.5151 13.5421 41.7808 13.6123C42.0464 13.6825 42.2955 13.8046 42.5138 13.9715C42.732 14.1384 42.9151 14.3468 43.0525 14.5847C43.1899 14.8227 43.2788 15.0854 43.3142 15.3579C43.3496 15.6304 43.3308 15.9071 43.2588 16.1723C43.1868 16.4374 43.0631 16.6857 42.8948 16.9029C42.7264 17.12 42.5168 17.3017 42.278 17.4375L40.0196 18.7417C39.6218 18.9723 39.3115 19.3281 39.137 19.7535C38.9625 20.179 38.9337 20.6502 39.055 21.0938V21.0917Z'
								fill='var(--text)'
							/>
						</svg>
					</button>
				</header>
				<main className={classes.timer}>
					<Timer />
				</main>
			</div>
			<Modal isVisible={isSettingsModalOpened} onClose={() => setIsSettingsModalOpened(false)}>
				<TimerSettingsModal />
			</Modal>
		</>
	)
}
