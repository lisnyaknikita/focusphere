'use client'

import { Project } from '@/shared/types/project'
import { Modal } from '@/shared/ui/modal/modal'
import { useState } from 'react'
import classes from './project-info.module.scss'
import { ProjectSettingsModal } from './project-settings-modal/project-settings-modal'

interface ProjectInfoProps {
	project: Project
}

export const ProjectInfo = ({ project }: ProjectInfoProps) => {
	const [isProjectSettingsModalOpen, setIsProjectSettingsModalOpen] = useState(false)

	return (
		<>
			<div className={classes.projectInfo}>
				<div className={classes.info}>
					<h3 className={classes.projectTitle}>{project?.title}</h3>
					<p className={classes.projectSubtitle}>{project?.description}</p>
					<div className={classes.infoWithIcons}>
						<div className={classes.members}>
							<svg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M8 10.6667C7.47258 10.6667 6.95701 10.5103 6.51848 10.2173C6.07995 9.92424 5.73815 9.50776 5.53632 9.02049C5.33449 8.53322 5.28168 7.99704 5.38457 7.47976C5.48747 6.96248 5.74144 6.48732 6.11438 6.11438C6.48732 5.74144 6.96248 5.48747 7.47976 5.38457C7.99704 5.28168 8.53322 5.33449 9.02049 5.53632C9.50776 5.73816 9.92423 6.07995 10.2173 6.51848C10.5103 6.95701 10.6667 7.47258 10.6667 8C10.6667 8.70724 10.3857 9.38552 9.88562 9.88562C9.38552 10.3857 8.70724 10.6667 8 10.6667ZM8 6.66667C7.73629 6.66667 7.47851 6.74487 7.25924 6.89138C7.03997 7.03788 6.86908 7.24612 6.76816 7.48976C6.66724 7.73339 6.64084 8.00148 6.69229 8.26012C6.74373 8.51876 6.87072 8.75634 7.05719 8.94281C7.24366 9.12928 7.48124 9.25627 7.73988 9.30771C7.99852 9.35916 8.26661 9.33276 8.51024 9.23184C8.75388 9.13092 8.96212 8.96003 9.10863 8.74076C9.25513 8.5215 9.33333 8.26371 9.33333 8C9.33333 7.64638 9.19286 7.30724 8.94281 7.05719C8.69276 6.80714 8.35362 6.66667 8 6.66667ZM12 15.3333C12 14.2725 11.5786 13.2551 10.8284 12.5049C10.0783 11.7548 9.06087 11.3333 8 11.3333C6.93913 11.3333 5.92172 11.7548 5.17157 12.5049C4.42143 13.2551 4 14.2725 4 15.3333C4 15.5101 4.07024 15.6797 4.19526 15.8047C4.32029 15.9298 4.48986 16 4.66667 16C4.84348 16 5.01305 15.9298 5.13807 15.8047C5.2631 15.6797 5.33333 15.5101 5.33333 15.3333C5.33333 14.6261 5.61428 13.9478 6.11438 13.4477C6.61448 12.9476 7.29276 12.6667 8 12.6667C8.70724 12.6667 9.38552 12.9476 9.88562 13.4477C10.3857 13.9478 10.6667 14.6261 10.6667 15.3333C10.6667 15.5101 10.7369 15.6797 10.8619 15.8047C10.987 15.9298 11.1565 16 11.3333 16C11.5101 16 11.6797 15.9298 11.8047 15.8047C11.9298 15.6797 12 15.5101 12 15.3333ZM12 5.33333C11.4726 5.33333 10.957 5.17694 10.5185 4.88392C10.0799 4.5909 9.73815 4.17443 9.53632 3.68716C9.33449 3.19989 9.28168 2.66371 9.38457 2.14643C9.48747 1.62914 9.74144 1.15399 10.1144 0.78105C10.4873 0.40811 10.9625 0.154134 11.4798 0.0512405C11.997 -0.0516535 12.5332 0.00115542 13.0205 0.202989C13.5078 0.404823 13.9242 0.746616 14.2173 1.18515C14.5103 1.62368 14.6667 2.13925 14.6667 2.66667C14.6667 3.37391 14.3857 4.05219 13.8856 4.55229C13.3855 5.05238 12.7072 5.33333 12 5.33333ZM12 1.33333C11.7363 1.33333 11.4785 1.41153 11.2592 1.55804C11.04 1.70455 10.8691 1.91279 10.7682 2.15642C10.6672 2.40006 10.6408 2.66815 10.6923 2.92679C10.7437 3.18543 10.8707 3.42301 11.0572 3.60948C11.2437 3.79595 11.4812 3.92293 11.7399 3.97438C11.9985 4.02583 12.2666 3.99942 12.5102 3.89851C12.7539 3.79759 12.9621 3.62669 13.1086 3.40743C13.2551 3.18816 13.3333 2.93038 13.3333 2.66667C13.3333 2.31305 13.1929 1.97391 12.9428 1.72386C12.6928 1.47381 12.3536 1.33333 12 1.33333ZM16 10C15.9989 8.93946 15.5772 7.92266 14.8273 7.17274C14.0773 6.42283 13.0605 6.00106 12 6C11.8232 6 11.6536 6.07024 11.5286 6.19526C11.4036 6.32029 11.3333 6.48986 11.3333 6.66667C11.3333 6.84348 11.4036 7.01305 11.5286 7.13807C11.6536 7.2631 11.8232 7.33333 12 7.33333C12.7072 7.33333 13.3855 7.61429 13.8856 8.11438C14.3857 8.61448 14.6667 9.29276 14.6667 10C14.6667 10.1768 14.7369 10.3464 14.8619 10.4714C14.987 10.5964 15.1565 10.6667 15.3333 10.6667C15.5101 10.6667 15.6797 10.5964 15.8047 10.4714C15.9298 10.3464 16 10.1768 16 10ZM4 5.33333C3.47258 5.33333 2.95701 5.17694 2.51848 4.88392C2.07995 4.5909 1.73816 4.17443 1.53632 3.68716C1.33449 3.19989 1.28168 2.66371 1.38457 2.14643C1.48747 1.62914 1.74144 1.15399 2.11438 0.78105C2.48732 0.40811 2.96248 0.154134 3.47976 0.0512405C3.99704 -0.0516535 4.53322 0.00115542 5.02049 0.202989C5.50776 0.404823 5.92423 0.746616 6.21725 1.18515C6.51027 1.62368 6.66667 2.13925 6.66667 2.66667C6.66667 3.37391 6.38572 4.05219 5.88562 4.55229C5.38552 5.05238 4.70724 5.33333 4 5.33333ZM4 1.33333C3.73629 1.33333 3.47851 1.41153 3.25924 1.55804C3.03997 1.70455 2.86908 1.91279 2.76816 2.15642C2.66724 2.40006 2.64084 2.66815 2.69229 2.92679C2.74373 3.18543 2.87072 3.42301 3.05719 3.60948C3.24366 3.79595 3.48124 3.92293 3.73988 3.97438C3.99852 4.02583 4.26661 3.99942 4.51024 3.89851C4.75388 3.79759 4.96212 3.62669 5.10863 3.40743C5.25513 3.18816 5.33333 2.93038 5.33333 2.66667C5.33333 2.31305 5.19286 1.97391 4.94281 1.72386C4.69276 1.47381 4.35362 1.33333 4 1.33333ZM1.33333 10C1.33333 9.29276 1.61428 8.61448 2.11438 8.11438C2.61448 7.61429 3.29276 7.33333 4 7.33333C4.17681 7.33333 4.34638 7.2631 4.4714 7.13807C4.59643 7.01305 4.66667 6.84348 4.66667 6.66667C4.66667 6.48986 4.59643 6.32029 4.4714 6.19526C4.34638 6.07024 4.17681 6 4 6C2.93946 6.00106 1.92266 6.42283 1.17274 7.17274C0.422826 7.92266 0.00105895 8.93946 0 10C0 10.1768 0.0702379 10.3464 0.195262 10.4714C0.320286 10.5964 0.489856 10.6667 0.666667 10.6667C0.843478 10.6667 1.01305 10.5964 1.13807 10.4714C1.2631 10.3464 1.33333 10.1768 1.33333 10Z'
									fill='var(--text)'
								/>
							</svg>
							<span>5 team members</span>
						</div>
						<div className={classes.tasks}>
							<svg width='16' height='15' viewBox='0 0 16 15' fill='none' xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M2.6671 4.07956C2.40428 4.08026 2.14393 4.0276 1.90111 3.92463C1.65829 3.82165 1.43783 3.67039 1.25248 3.47961L0.223182 2.54182C0.0911083 2.42126 0.0112211 2.25192 0.00109451 2.07106C-0.00903212 1.8902 0.0514313 1.71262 0.169184 1.5774C0.286936 1.44218 0.452331 1.36039 0.628985 1.35002C0.805638 1.33965 0.979079 1.40156 1.11115 1.52212L2.16778 2.48721C2.22827 2.55676 2.30202 2.6129 2.3845 2.65217C2.46697 2.69145 2.55642 2.71303 2.64734 2.71559C2.73826 2.71814 2.82874 2.70162 2.91319 2.66705C2.99764 2.63247 3.07429 2.58056 3.13842 2.51452L5.54101 0.172752C5.6702 0.0549955 5.83904 -0.00674027 6.01186 0.000584648C6.18469 0.00790957 6.34796 0.0837216 6.46721 0.212008C6.58645 0.340295 6.65232 0.511011 6.65091 0.688098C6.6495 0.865186 6.58092 1.03478 6.45964 1.16106L4.06706 3.49122C3.88291 3.67865 3.66449 3.82709 3.42427 3.92804C3.18406 4.02899 2.92676 4.08048 2.6671 4.07956ZM16 2.7145C16 2.53348 15.9298 2.35987 15.8047 2.23187C15.6797 2.10388 15.5102 2.03197 15.3334 2.03197H8.66691C8.4901 2.03197 8.32054 2.10388 8.19552 2.23187C8.0705 2.35987 8.00026 2.53348 8.00026 2.7145C8.00026 2.89552 8.0705 3.06912 8.19552 3.19712C8.32054 3.32512 8.4901 3.39703 8.66691 3.39703H15.3334C15.5102 3.39703 15.6797 3.32512 15.8047 3.19712C15.9298 3.06912 16 2.89552 16 2.7145ZM4.06706 8.95146L6.45964 6.6213C6.52642 6.56043 6.58056 6.48644 6.61884 6.40371C6.65711 6.32098 6.67874 6.23122 6.68244 6.13976C6.68614 6.04829 6.67183 5.95701 6.64036 5.87132C6.6089 5.78564 6.56092 5.70731 6.49928 5.641C6.43765 5.57469 6.36361 5.52175 6.28158 5.48533C6.19955 5.44892 6.11121 5.42976 6.0218 5.42902C5.9324 5.42827 5.84376 5.44594 5.76116 5.48099C5.67856 5.51603 5.60369 5.56773 5.54101 5.633L3.14109 7.97476C3.01418 8.099 2.84536 8.16834 2.66977 8.16834C2.49418 8.16834 2.32536 8.099 2.19845 7.97476L1.13849 6.89295C1.01275 6.76862 0.844359 6.69983 0.669566 6.70138C0.494774 6.70294 0.327571 6.77472 0.20397 6.90126C0.0803687 7.02781 0.0102584 7.199 0.00873949 7.37796C0.00722059 7.55691 0.0744147 7.72932 0.195849 7.85805L1.25248 8.93986C1.62558 9.32194 2.13106 9.53756 2.65877 9.53974C3.18647 9.54191 3.69363 9.33046 4.06972 8.95146H4.06706ZM16 8.17474C16 7.99372 15.9298 7.82012 15.8047 7.69212C15.6797 7.56412 15.5102 7.49221 15.3334 7.49221H8.66691C8.4901 7.49221 8.32054 7.56412 8.19552 7.69212C8.0705 7.82012 8.00026 7.99372 8.00026 8.17474C8.00026 8.35576 8.0705 8.52937 8.19552 8.65737C8.32054 8.78537 8.4901 8.85727 8.66691 8.85727H15.3334C15.5102 8.85727 15.6797 8.78537 15.8047 8.65737C15.9298 8.52937 16 8.35576 16 8.17474ZM4.06706 14.4117L6.45698 12.0816C6.52376 12.0207 6.57789 11.9467 6.61617 11.864C6.65444 11.7812 6.67607 11.6915 6.67977 11.6C6.68347 11.5085 6.66916 11.4173 6.6377 11.3316C6.60623 11.2459 6.55825 11.1676 6.49662 11.1012C6.43498 11.0349 6.36094 10.982 6.27892 10.9456C6.19689 10.9092 6.10854 10.89 6.01914 10.8893C5.92973 10.8885 5.84109 10.9062 5.75849 10.9412C5.67589 10.9763 5.60103 11.028 5.53834 11.0932L3.13842 13.435C3.07429 13.5011 2.99764 13.553 2.91319 13.5875C2.82874 13.6221 2.73826 13.6386 2.64734 13.6361C2.55642 13.6335 2.46697 13.6119 2.3845 13.5727C2.30202 13.5334 2.22827 13.4773 2.16778 13.4077L1.11115 12.4426C0.979079 12.3221 0.805638 12.2601 0.628985 12.2705C0.452331 12.2809 0.286936 12.3627 0.169184 12.4979C0.0514313 12.6331 -0.00903212 12.8107 0.00109451 12.9916C0.0112211 13.1724 0.0911083 13.3418 0.223182 13.4623L1.25248 14.4001C1.62558 14.7822 2.13106 14.9978 2.65877 15C3.18647 15.0022 3.69363 14.7907 4.06972 14.4117H4.06706ZM16 13.635C16 13.454 15.9298 13.2804 15.8047 13.1524C15.6797 13.0244 15.5102 12.9525 15.3334 12.9525H8.66691C8.4901 12.9525 8.32054 13.0244 8.19552 13.1524C8.0705 13.2804 8.00026 13.454 8.00026 13.635C8.00026 13.816 8.0705 13.9896 8.19552 14.1176C8.32054 14.2456 8.4901 14.3175 8.66691 14.3175H15.3334C15.5102 14.3175 15.6797 14.2456 15.8047 14.1176C15.9298 13.9896 16 13.816 16 13.635Z'
									fill='var(--text)'
								/>
							</svg>
							<span>10 tasks</span>
						</div>
					</div>
				</div>
				<button className={classes.settingsButton} onClick={() => setIsProjectSettingsModalOpen(true)}>
					<svg width='6' height='21' viewBox='0 0 6 21' fill='none' xmlns='http://www.w3.org/2000/svg'>
						<path
							d='M5.2509 17.9995C5.2509 16.7555 4.24247 15.7471 2.9985 15.7471C1.75453 15.7471 0.746094 16.7555 0.746094 17.9995C0.746094 19.2435 1.75453 20.252 2.9985 20.252C4.24247 20.252 5.2509 19.2435 5.2509 17.9995Z'
							fill='var(--text)'
						/>
						<path
							d='M5.2509 10.252C5.2509 9.00796 4.24247 7.99951 2.9985 7.99951C1.75453 7.99951 0.746094 9.00796 0.746094 10.252C0.746094 11.4959 1.75453 12.5044 2.9985 12.5044C4.24247 12.5044 5.2509 11.4959 5.2509 10.252Z'
							fill='var(--text)'
						/>
						<path
							d='M5.2509 2.50439C5.2509 1.2604 4.24247 0.251947 2.9985 0.251947C1.75453 0.251947 0.746094 1.2604 0.746094 2.50439C0.746094 3.74838 1.75453 4.75684 2.9985 4.75684C4.24247 4.75684 5.2509 3.74838 5.2509 2.50439Z'
							fill='var(--text)'
						/>
					</svg>
				</button>
			</div>
			<Modal isVisible={isProjectSettingsModalOpen} onClose={() => setIsProjectSettingsModalOpen(false)}>
				<ProjectSettingsModal project={project} onClose={() => setIsProjectSettingsModalOpen(false)} />
			</Modal>
		</>
	)
}
